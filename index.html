<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="More Than Just a Game: Understanding Win Conditions in League of Legends : ">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>More Than Just a Game: Understanding Win Conditions in League of Legends</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/bchang823/109final">View on GitHub</a>

          <h1 id="project_title">More Than Just a Game: Understanding Win Conditions in League of Legends</h1>
          <h2 id="project_tagline"></h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/bchang823/109final/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/bchang823/109final/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h3>
<a id="the-rise-of-esports" class="anchor" href="#the-rise-of-esports" aria-hidden="true"><span class="octicon octicon-link"></span></a>The Rise of eSports?</h3>

<p>Professional sports in the United States is a multi-billion dollar industry. In addition to paid professional players, numerous jobs regarding data analytics in sports occupy the industry. What is the best formation for this football team? What order should the team bat in? In an industry where winning is key, optimal strategies designed to win are constantly sought after.</p>

<p>But physical sports aren't the only competitive environment that requires analysis of optimal strategy. Here's another picture of a newly emerging group of professional "eSports" athletes: </p>

<p><img src="http://i.imgur.com/Dbs3fhb.jpg">
While it may seem proposterous to think that professional video games are anywhere near as large as professional sports, consider this fact; excluding the Super Bowl, the League of Legends (the currently most popular video game in the world) World Championship Final was the highest viewed event, at 36 million viewers in 2015. Yes, it beat the NBA Finals and the World Series. Here's a picture of the 2015 finals, held in the Brussels Expo in Belgium: </p>

<p><img src="http://d3psvddqt9zx7g.cloudfront.net/blog/wp-content/uploads/2015/10/League-of-Legends-world-championship.jpg"></p>

<p>Games like League of Legends have competitive scenes that have been rapidly growing, both in size and exposure. With these increased stakes, much effort has been put into detailed analysis of the game. Similar to how a sports analyst would look for optimal strategy in a game of football, video game analysts look for winning compositions (which characters to pick), which items to buy, or where to be at what time of the game. Having the right strategy could be the difference between being the best in the world or going home second. </p>

<p>Unsurprisingly, the League of Legends competitive scene has trickled from professional play all the way down to the collegiate level; Harvard too has its own League of Legends team. Currently, Harvard's team is part of a national Collegiate League of Legends Championship tournament with a first place prize of $150,000 for the team. </p>

<p>But before we delve too much into the project, it's important that you understand the basics of how League of Legends works. Similar to a basketball game, a game of League of Legends pits 5 players against 5. Either team wins by destroying the enemy Nexus, a building located at each team's base. Standing in the way of this goal, however, are many different obstacles. Each player chooses one of 128 different "champions." These champions fight each other, gain resource called "gold" (which is obtained by killing enemy champions, towers, or AI-controlled 'minions') to buy items that make them stronger, and push down turrets and inhibitors - buildings that defend the path to the nexus to win. Along the course of the game, there are many other objectives (dragon, baron, neutral monsters), which for purposes of this project can simply be considered "side objectives" that give players more resources to beat the other team. Games usually last between 20 and 45 minutes.</p>

<p>Here is a fantastic, short, 5 minute video that explains all the basics of League of Legends:
<a href="https://www.youtube.com/watch?v=BGtROJeMPeE" title="What is League of Legends?"><img src="http://i.stack.imgur.com/LT3WE.png" alt="What is League?"></a></p>

<p>Here is where our project comes in: we want to find out what the most important aspects of the game are. Obviously the end goal is to take down the enemy Nexus, but there are many different ways to gather resources and strategize; a team can seek to take down towers as quickly as possible, while another team may look to get as many dragon kills as possible to gain enough strength to take down the nexus. A possible analogy one could use is strategy in American football; should a team pass or run more? Should the defense blitz or play a safe zone-coverage? These type of questions are the ones we want to ask in the world of League of Legends.</p>

<p>Why is this important? Basically, we want to know <b> what wins games and when they are won</b>. Along the process of a game, there are several metrics that tell how well a player is doing (examples include how much gold he/she has earned, how many champion kills he has had, etc.). We want to know if there are specific factors that are particularly important in determining which team will win, and at what point in the game these factors are determined. Knowing this information will be vital to team strategy, as it will change the objectives that we focus on, the type of champions we will pick, or the playstyle that we have. Finally, this project will help all League of Legends players understand how "set" games are at certain time periods. Similar to how, say, the winner of a game of basketball is almost 100% determined if one team is 20 points ahead with 5 minutes of game time remaining, we want to know how different metrics at different times in a game of League of Legends can accurately predict which team will win.</p>

<h3>
<a id="breaking-down-factors" class="anchor" href="#breaking-down-factors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Breaking Down Factors</h3>

<p>Using the API provided by Riot Games (the company behind League of Legends), we were able to acquire data from over 20,000 matches. We wanted to specifically look at how in-game stats change over the course of a game. In other words, how much predictive power does a model have if it only has data from the 10-minute mark? Do certain factors change over time in terms of importance in the game? </p>

<p>In order to answer those questions, we needed to split the data into different times. In other words, we split the data into at-10, at-20, and at-30 markers. Once we have data for each of those time markers, we are able to run whatever classifier/model three separate times to compare how relative importances of each factor change over the course of the game. Here are the factors (and respective descriptions) we decided to explore:</p>

<p><img src="http://i.imgur.com/PdwOXeb.png"></p>

<h3>
<a id="using-random-forest-to-predict-winners" class="anchor" href="#using-random-forest-to-predict-winners" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using Random Forest to Predict Winners</h3>

<p>With the data that we had just acquired, we were able to now run some tests and predictors to determine which factors are most influential to choosing winners, and to what extent these variables could accurately predict a winner. Furthermore, these factors were broken down by time, so we could compare how the importance of certain variables changed over time. The method we used to classify these variables by importance is called the Random Forest method. </p>

<h2>
<a id="results-for-the-at-10-minute-data" class="anchor" href="#results-for-the-at-10-minute-data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Results for the at-10 minute data</h2>

<p><img src="http://imgur.com/DX481tl.png"></p>

<p>We had an overall accuracy of <b> 69% </b>on the test data for the at-10 minute model.</p>

<p>Having a higher gold lead is the most influential in terms of predicting a winner. One surprising metric that had high relative importance was ward data; the difference in amount of wards placed and wards killed were both higher than differences in dragon kills, first blood, or turrets destroyed. One observation to make here is that relative importance of gold increased compared to our results in newdf. This is due to a few reasons. First, more variables were included in the newdf random forest classifier, which can only decrease the relative importance of gold. Further, however, gold per minute may simply be a more consistent metric that may be a better predictor of wins,
Two possible explanations exist for this; first, increased amount of vision control is a causal factor to having strategic dominance over an opponent. Understanding where the enemy is helps plan out the team's next move, and not having vision in an area leaves a team susceptible to ganks (flanks from enemies) or unfavorable fighting positions. Second, teams that ward more frequently and have better vision control are generally better players in terms of understanding the game. Accordingly vision dominance could be a proxy for prowess in game knowledge, which is definitely a strong indicator of victory.
Another observation to make is that creep score (CS) difference at 10 minutes is the second most important predictor of victories after gpm. This is particularly surprising because CS difference at 10 minutes can only get so high; normally, differences in CS aren't highly noticeable until later stages in the game simply due to the fact that not many creeps die. Again, two possible explanations here. First, it could simply be the case that the other variables that were measured are so insignificant that creep score was the best metric out of the variables at-10. A second explanation is that (similar to wards placed) CS is a particularly powerful indicator of who has dominance as a player over their opponent; CS'ing better means better mechanics and better decision making, which in turn lead to higher likelihood of winning. </p>

<p>In order to see why this was the case, we plotted each of the at-10 minute variables, split by what the values were when red or blue team won: 
<img src="http://i.imgur.com/lfAO55F.png"></p>

<p>From these graphs, we can clearly tell that the more close the graph is to a Normal distribution (centered around 0), the less powerful that variable is as a predictor for wins. On the other hand, the more bimodal and away from 0 the values were (take GPM as an example), the more predictive power that variable had. </p>

<h2>
<a id="results-for-the-at-20-minute-data" class="anchor" href="#results-for-the-at-20-minute-data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Results for the at-20 minute data</h2>

<p><img src="http://imgur.com/9aM65jl.png"></p>

<p>We had an overall accuracy of <b> 80% </b>on the test data for the at-20 minute model.</p>

<p>Unsurprisingly, gold is still the most dominant predictive factor. Unlike the 10 minute data, however, the next most important statistic is difference in number of kills. A few reasons why this may be the case: for one, the sheer number of kills in the game at that point is much higher than the number of kills at the 10 minute mark. The 10 minute mark of the game is still what is considered the "Early Game" where most of the champions are passively farming, and not many champion vs. champion fights occur. On the other hand, the 20 minute mark is considered the "Mid Game," where teams start to group up and fight as a team against the other team. This would mean that the simply due to the fact that the number of kills are increased and that kills can be one-sided (as in, one team takes down all members of the other team without losing a single member), the importance of kills in determining winners can be increased as well. A second possible explanation is that kills in the mid game are more likely to lead to other factors that "Snowball" the game into one side's favor. For instance, a teamfight that is won by one side most likely means that the winning team can get some sort of objective, be it dragon, turret, or even inhibitors and barons depending on where the fight occurred. The reason this is true is because a won teamfight or members down means that there is less resistance to the winning team when they take down these objectives. The enemy can't stop a team from killing dragon if the enemies themselves are already dead and unable to interfere. Even in the case that not all members of a certain team died (let's say only one member died), this could still lead to objectives being taken because engaging in a 4v5 fight could lead to even more harm for the team who is trying to contest the objective with a man down.
Other notable observations include the fact that CS is still important, and that turrets are more important now due to the fact that more turrets are falling and turrets around the 20 minute mark could be the only thing stopping teams from taking down inhibitors. Finally, dragons have become more important due to the fact that fifth dragon is more of a salient concern at 20 minutes. To explain, each dragon killed by an enemy team gives them certain bonuses to their attributes (think more strength, more speed, etc.). However, by far the most important dragon kill is the 5th dragon kill, which gives the team a massive boost in stats and also an additional buff that increases their damage to all enemies dealt. However, dragons only spawn every 6 minutes, so 5th dragon doesn't become too big of a concern to worry about until later on in the mid/late game. Since the 20 minute mark is approaching that phase, dragons can become more salient in determining who will win.
Similar to the 10 minute statistics, we'll look at the individual factors now:
<img src="http://i.imgur.com/86CuE3m.png">
Notice how almost all of the factors have much more pronounced bimodal shapes, as peak values for either red or blue win move further away from the 0 value. </p>

<h2>
<a id="results-for-the-at-30-minute-data" class="anchor" href="#results-for-the-at-30-minute-data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Results for the at-30 minute data</h2>

<p><img src="http://i.imgur.com/lOraA5I.png"></p>

<p>We had an overall accuracy of <b> 89% (!) </b>on the test data for the at-30 minute model.</p>

<p>Unsurprisingly, gold becomes ever important. By the 30 minute mark, however, some noticeable trends start to occur. The importance of kills is still second, but towers and inhibitors now trump CS differences come late game. Why is this the case? By the 30 minute mark, we have reached what is known as mid/late game. In this phase, teams are no longer focused on getting stronger by farming, but rather are focused on working as a team to 1) defeat the enemy team so that they can 2) take down buildings. Remember that the win-condition in League of Legends is taking down the Nexus, which is only possible if turrets and inhibitors falls first. Accordingly, the most important statistic when it comes to the mid/late game (after gold and kills) are the building counts.
Observing individual variables split by which side won also shows a clear indication that all variables have become much more pronounced in peaks and significance compared to previous at-10 and at-20 data. The only variable whose predictive power is stronger at the at-20 mark is CS. This is explained by the fact that CS is less important in the mid/late game where teamfights and objectives dominate the game. Farming up creeps won't help the team push towards victory; if someone is farming and that leads his/her team to fight a 4v5 and lose, the overall net result is a loss for that team.</p>

<p>Now let's look at individual features:
<img src="http://i.imgur.com/PO5UKSZ.png"></p>

<p>The data has become even more bimodal and detracts away from the 0 value. Notice how, across all 3 times, the more "important" a factor is considered to be, the more deviant the values are from the 0 value on either side. </p>

<p>Finally, we decided to look at how different factors change over time. Here's a graph showing just this:
<img src="http://i.imgur.com/J7yLfRo.png"></p>

<p>Notice how (excluding GPM) at-10 minutes, CS and ward placed are important factors, whereas at-30 miuntes, importance shifts towards kills. One other observation is that GPM importance actually falls in the 20 minute marker. This could be due to the fact that the mid game is more filled with objective-based games and teamfights, which are not necessarily directly correlated with gold. Even though getting more CS earns more gold, taking an objective like dragon or a turret (or even an inhibitor) could be huge in terms of power swings for a team.</p>

<h3>
<a id="what-we-learned-insights-and-limitations" class="anchor" href="#what-we-learned-insights-and-limitations" aria-hidden="true"><span class="octicon octicon-link"></span></a>What we Learned: Insights and Limitations</h3>

<p>Overall, the data that we analyzed taught us a few important points. First, we know that on average, we are able to predict with 69% accuracy which team will win given data about the 10 minute mark, 80% accuracy at the 20 minute mark, and 89% accuracy at the 30 minute mark. Games are readily determined in the early-mid game phase. Obviously, this doesn't mean that a team that's losing hard should simply "give up;" aside from the fact that comeback victories are always possible, there's also the fact that the reason why the team that is currently losing is going to lose is not simply due to the fact that they are losing, but because they are the worse team. After all, a team that is losing had to do something wrong or be worse in order to end up in that losing situation to begin with.
Consider this analogy; if we say that a certain basketball team A has a 10 point lead on team B with 7 minutes remaining in the game, this information tell us that team A is more likely to win due to the fact that both 1) A is in the lead but also 2) A played better to end up in the lead. If, for example, team A and B were both high school teams and at 7 minutes remaining in the game a professional NBA team were to substitute in for team B, this would totally mess up the predictions since the predictive power of the team that was better is no longer salient.
In other words, yes; League games are highly predictable even in the early stages of the game by looking at a few statistics, but not just because the lead will win the game for the team.</p>

<p>(NOTE: This part will be harder to understand if you are not a League of Legends player yourself.)
Now, in Part 1 of the Process Book we stated that one of the main goals of this project was to gain strategic insight of what the Harvard League team can do to improve its likelihood of winning versus other collegiate teams. The analysis that we conducted with the time-split data provides some key decision-making advice for the team. Here are some key insights we learned:
1) For one, early vision control is much more important than is commonly thought; as explained in the at-10 analysis, having dominant vision over the enemy team opens up opportunities for the team to thrive. This conclusion is supported by the data of relative importance of vision in the early game.
2) Second, mid-game teamfights are the path to victories. Around the at-20 marker, kills become a much more important factor than before; presumably due to the importance of teamfights in determining not only which team gets gold but also which team gets objectives. Accordingly, when faced with a decision of fighting a losing fight for a certain objective or more CS, the team should decide to go for the stronger teamfight. This point is even more important outside of game as well. When choosing the team composition, the team should have in mind the fact that mid-game teamfights will be important. In doing so, they can choose champions that support these mid-game "spikes." Some champions are strongest in the early stages of the game, while some champions only become formidable after several minutes of gameplay. The Harvard League team should choose a composition that balances early game control but prioritizes mid-game fighting power.
3) Perhaps most importantly, late-game objectives win games. We learned through the at-30 data that, compared to previous time markers, getting turrets and inhibitors are the main determining factors of victory after gpm and kills. This statistic may seem unimportant considering that (as explained in part 2) kills lead to towers/inhibitors. However, the reason this point is so crucial is because the team may be facing a situation where they can't win a teamfight. If a team is sufficiently behind in resources or has a losing team composition, it could be the case that team simply cannot pick a fight in which they will come out victorious. If this is the case, our model tells us that going for objectives like turrets or inhibitors is the best strategy. In other words, when falling behind, in a gold defecit, or simply facing a stronger teamfighting comp, the Harvard League team should focus on split-pushing (avoiding the enenmy team while pushing for objectives) in order to gain more map control and eventually push for the win.
These insights do have significantl limitations that must be addressed. First, the data we gathered was from solo queue data, which is when 5 players who have not coordinated or practiced get into a match and play. The dynamics of team play may change in a situation where 5 coordinated players (like the Harvard League team) go against 5 other coordinated players. Unfortunately, there isn't enough data on coordinated, high-ranked teams for us to come up with meaningful conclusions using the methods that we used in the project. That being said, however, there is good reason to believe that many of the factors that are mentioned in the project as important are still consistently salient in the case of coordinated ranked teams.</p>

<p>Overall, this project was a great way for us to learn about what factors were indicators of victory overall for League of Legends matches. But more importantly, however, this project provided great information on how these indicators change over time, and what that change in relative importance mean for a competitive team looking to create an optimal strategy of prioritization in their games. Finally, we learned about the high predictive powers of the Random Forest model when given data about League matches, even if the data provided was only from the first 10 minutes of a potentially hour-long game</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">More Than Just a Game: Understanding Win Conditions in League of Legends maintained by <a href="https://github.com/bchang823">bchang823</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
